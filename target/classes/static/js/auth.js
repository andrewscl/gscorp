async function c(s,e={}){const a=localStorage.getItem("jwt"),t=new Headers(e.headers||{});t.has("Accept")||t.set("Accept","application/json"),a&&t.set("Authorization",`Bearer ${a}`);const n={credentials:e.credentials??"same-origin",...e,headers:t},o=await fetch(s,n);if(o.status===401){localStorage.removeItem("jwt");try{sessionStorage.setItem("postLoginTarget",location.pathname+location.search+location.hash)}catch{}return window.location.href="/auth/signin",new Response(null,{status:401})}return o}export{c as f};
