import{f as i}from"../../auth.js";document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("importCsvForm"),t=document.getElementById("importStatus"),s=document.getElementById("cancelImportBtn");e&&(e.addEventListener("submit",async n=>{n.preventDefault(),t.textContent="Importando archivo...",t.className="";const r=e.querySelector('input[type="file"][name="file"]').files[0];if(!r){t.textContent="Selecciona un archivo CSV.",t.className="is-warning";return}const a=new FormData;a.append("file",r);try{const o=await i("/api/employees/import-csv",{method:"POST",body:a}),c=await o.text();o.ok?(t.textContent=c||"¡Importación exitosa!",t.className="is-success",e.reset()):(t.textContent=`Error: ${c}`,t.className="is-error")}catch{t.textContent="Error de red o servidor.",t.className="is-error"}}),s&&s.addEventListener("click",n=>{n.preventDefault(),e.reset(),t.textContent="",t.className="",e.style.display="none"}))});
