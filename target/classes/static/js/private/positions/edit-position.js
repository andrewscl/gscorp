import{f as r}from"../../auth.js";import{n as o}from"../../navigation-handler.js";const a=t=>document.querySelector(t);async function s(t){const n=t.target.getAttribute("data-id");if(n&&confirm("¿Seguro que quieres eliminar este cargo? Esta acción no se puede deshacer."))try{const e=await r(`/api/positions/${n}`,{method:"DELETE"});if(!e.ok){let i="";try{i=await e.text()}catch{}throw i||(i=`Error ${e.status}`),new Error(i)}o("/private/positions/table-view")}catch(e){alert(e.message||"No se pudo eliminar el cargo")}}function c(t){t.preventDefault(),o("/private/positions/table-view")}function d(){a("#deletePositionBtn")?.addEventListener("click",s),a('[data-path="/private/positions/table-view"]')?.addEventListener("click",c),document.addEventListener("keydown",t=>{t.key==="Escape"&&o("/private/positions/table-view")})}(function(){d()})();
