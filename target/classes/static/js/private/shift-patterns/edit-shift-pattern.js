import{f as s}from"../../auth.js";import{n as a}from"../../navigation-handler.js";const r=t=>document.querySelector(t);async function o(t){const n=t.target.getAttribute("data-id");if(n&&confirm("¿Seguro que quieres eliminar este patrón de turno? Esta acción no se puede deshacer."))try{const e=await s(`/api/shift-patterns/${n}`,{method:"DELETE"});if(!e.ok){let i="";try{i=await e.text()}catch{}throw i||(i=`Error ${e.status}`),new Error(i)}a("/private/shift-patterns/table-view")}catch(e){alert(e.message||"No se pudo eliminar el patrón de turno")}}function c(t){t.preventDefault(),a("/private/shift-patterns/table-view")}function f(){r("#deleteShiftPatternBtn")?.addEventListener("click",o),r('[data-path="/private/shift-patterns/table-view"]')?.addEventListener("click",c),document.addEventListener("keydown",t=>{t.key==="Escape"&&a("/private/shift-patterns/table-view")})}(function(){f()})();
