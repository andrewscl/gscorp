import{n as r}from"../../navigation-handler.js";import"../../auth.js";function u({container:a,path:p}){console.log("View-site.js activado");const l=a.querySelector(".vs-btn.vs-secondary[data-path]");l&&l.addEventListener("click",e=>{e.preventDefault();const t=l.getAttribute("data-path");t&&r(t)});const n=a.querySelector("#siteLat"),s=a.querySelector("#siteLon"),o=a.querySelector("#siteMap");if(o&&n&&s&&window.L){if(o._leaflet_id)return;const e=parseFloat(n.value)||-33.45,t=parseFloat(s.value)||-70.66;console.log("Usando lat:",e,"lon:",t);const i=L.map(o).setView([e,t],13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(i),L.marker([e,t],{draggable:!1}).addTo(i),console.log("Mapa inicializado OK")}else console.log("Falta algún elemento",{mapDiv:o,latInput:n,lonInput:s,L:window.L})}export{u as init};
