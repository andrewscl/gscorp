import{n as p}from"../../navigation-handler.js";import"../../auth.js";function r({container:o,path:n}){console.log("View-site.js activado");const t=o.querySelector(".vs-btn.vs-secondary[data-path]");t&&t.addEventListener("click",l=>{l.preventDefault();const e=t.getAttribute("data-path");e&&p(e)});const s=o.querySelector("#siteLat"),i=o.querySelector("#siteLon"),a=o.querySelector("#siteMap");if(a&&s&&i&&window.google&&window.google.maps){if(a._google_map)return;const l=parseFloat(s.value)||-33.45,e=parseFloat(i.value)||-70.66;console.log("Usando lat:",l,"lon:",e);const g=new google.maps.Map(a,{center:{lat:l,lng:e},zoom:15,mapTypeId:"roadmap",disableDefaultUI:!0});new google.maps.Marker({position:{lat:l,lng:e},map:g}),a._google_map=g,console.log("Google Map inicializado OK")}else console.log("Falta algÃºn elemento o Google Maps no cargado",{mapDiv:a,latInput:s,lonInput:i,google:window.google})}document.addEventListener("fragment:loaded",o=>{const{container:n,path:t}=o.detail||{};n&&r({container:n,path:t})});export{r as init};
