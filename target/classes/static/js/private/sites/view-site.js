import{n as s}from"../../navigation-handler.js";import"../../auth.js";window._pendingMapInit=null;function d({container:o,path:n}){console.log("View-site.js activado");const e=o.querySelector(".vs-btn.vs-secondary[data-path]");e&&e.addEventListener("click",l=>{l.preventDefault();const p=e.getAttribute("data-path");p&&s(p)});const t=o.querySelector("#siteLat"),a=o.querySelector("#siteLon"),i=o.querySelector("#siteMap");window._pendingMapInit={latInput:t,lonInput:a,mapDiv:i},window.google&&window.google.maps&&window.onGoogleMapsReady()}window.onGoogleMapsReady=function(){const o=window._pendingMapInit;if(!o)return;const{latInput:n,lonInput:e,mapDiv:t}=o;if(t&&n&&e){if(t._google_map)return;const a=parseFloat(n.value)||-33.45,i=parseFloat(e.value)||-70.66,l=new google.maps.Map(t,{center:{lat:a,lng:i},zoom:15,mapTypeId:"roadmap",disableDefaultUI:!0});new google.maps.Marker({position:{lat:a,lng:i},map:l}),t._google_map=l,console.log("Google Map inicializado OK")}else console.log("Falta algÃºn elemento para inicializar el mapa")};document.addEventListener("fragment:loaded",o=>{const{container:n,path:e}=o.detail||{};n&&d({container:n,path:e})});export{d as init};
