import{f as c}from"../../auth.js";import{n}from"../../navigation-handler.js";const r=e=>document.querySelector(e);async function s(e){const a=e.target.getAttribute("data-id");if(a&&confirm("¿Seguro que quieres eliminar este cliente? Esta acción no se puede deshacer."))try{const t=await c(`/api/clients/${a}`,{method:"DELETE"});if(!t.ok){let i="";try{i=await t.text()}catch{}throw i||(i=`Error ${t.status}`),new Error(i)}n("/private/clients/table-view")}catch(t){alert(t.message||"No se pudo eliminar el cliente")}}function o(e){e.preventDefault(),n("/private/clients/table-view")}function l(){r("#deleteUserBtn")?.addEventListener("click",s),r('[data-path="/private/clients/table-view"]')?.addEventListener("click",o),document.addEventListener("keydown",e=>{e.key==="Escape"&&n("/private/clients/table-view")})}(function(){l()})();
