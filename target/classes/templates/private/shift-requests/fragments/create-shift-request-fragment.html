<!-- Updated fragment: wrap start/end date fields in a two-column .form-row so they sit side-by-side -->
<div class="createShiftRequest" id="dashboard-root" th:fragment="content">

  <div class="createShiftRequestHeader">
    <h3>Crear Solicitud de Turno</h3>
    <button type="button" class="modal-close" id="closeCreateShiftRequest">&times;</button>
  </div>

  <form id="createShiftRequestForm" class="createShiftRequest-body">

    <div class="form-group narrow">
      <label for="shiftRequestSite">Sitio</label>
      <select id="shiftRequestSite" name="siteId" required>
        <option value="">Seleccione sitio</option>
        <option th:each="s : ${sites}" th:value="${s.id}" th:text="${s.name}"></option>
      </select>
    </div>

    <div class="form-group narrow">
      <label for="shiftRequestAccount">Cuenta / Cliente final</label>
      <select id="shiftRequestAccount" name="accountId" required>
        <option value="">Seleccione cuenta</option>
        <option th:each="a : ${accounts}" th:value="${a.id}" th:text="${a.name}"></option>
      </select>
    </div>

    <!-- Wrap date fields in a two-column row so they appear side-by-side on wide screens -->
    <div class="form-row">
      <!-- Fecha inicio -->
      <div class="form-group date-field input-with-icon">
        <label for="shiftRequestStartDate">Fecha inicio</label>
        <div class="input-icon-wrap">
          <input type="date" id="shiftRequestStartDate" name="startDate" required aria-label="Fecha inicio" />
          <button type="button" class="icon-btn calendar-btn" aria-label="Abrir calendario">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 11h5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <rect x="3.5" y="4.5" width="17" height="15" rx="2" stroke="currentColor" stroke-width="1.6"/>
              <path d="M16 2v4M8 2v4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Fecha término -->
      <div class="form-group narrow date-field input-with-icon">
        <label for="shiftRequestEndDate">Fecha término</label>
        <div class="input-icon-wrap">
          <input type="date" id="shiftRequestEndDate" name="endDate" aria-label="Fecha término" />
          <button type="button" class="icon-btn calendar-btn" aria-label="Abrir calendario">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M7 11h5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              <rect x="3.5" y="4.5" width="17" height="15" rx="2" stroke="currentColor" stroke-width="1.6"/>
              <path d="M16 2v4M8 2v4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <!-- /date row -->

    <div class="form-group narrow">
      <label for="shiftRequestServiceType">Tipo de servicio</label>
      <select id="shiftRequestServiceType" name="serviceType" required>
        <option value="">Seleccione tipo de servicio</option>
        <option value="FIJO">Fijo</option>
        <option value="ADICIONAL">Adicional</option>
      </select>
    </div>

    <div class="form-group">
      <label>Horarios por tramos de días</label>
      <div id="shiftDayRanges">
        <!-- Aquí se agregan los bloques de días/vigilancia -->
      </div>
      <button type="button" id="addDayRange" class="btn-mini">+ Añadir tramo de horario</button>
    </div>

    <small class="dayrange-help">
      Ej: Lun a Mié 08:00-18:00, Jue a Vie 09:00-17:00, Sáb a Dom 10:00-14:00, etc.
    </small>

    <div class="form-group">
      <label for="shiftRequestDescription">Descripción</label>
      <textarea id="shiftRequestDescription" name="description" placeholder="Descripción"></textarea>
    </div>

    <div class="modal-footer">
      <button type="submit" class="btn-primary">Crear</button>
      <button type="button" class="btn-secondary" id="cancelCreateShiftRequest">Cancelar</button>
    </div>
    <div class="form-error" id="createShiftRequestError"></div>
    <div class="form-ok" id="createShiftRequestOk" style="display:none;">Solicitud de turno creada ✅</div>
  </form>

  <script type="module" src="/js/private/shift-requests/create-shift-request.js"></script>

</div>