<div th:fragment="content" id="client-dashboard-root" class="dashboard" role="region" aria-label="Client dashboard">


  <!-- Hourly charts (actualizado: donut integrado en la mitad superior izquierda) -->

  <div class="charts hourly" role="group" aria-label="Indicadores diarios">
    <!-- Hourly attendances -->
    <div class="card" data-card="hourly-attendance">
      <div class="card-top split">
        <div class="split-left">
          <!-- Donut (ECharts) ocupa el 100% del contenedor izquierdo -->
          <div id="donut-hourly-att" class="daily-donut integrated" data-testid="donut-hourly-att" aria-hidden="true"></div>
        </div>
        <div class="split-right">
          <h5>Asistencia de hoy</h5>
          <div class="card-totals" aria-live="polite">
            <div class="total-label">Total hoy</div>
            <div class="total-value" id="total-daily-att">–</div>
            <div class="meta small muted" id="meta-daily-att">Meta: —</div>
          </div>
        </div>
      </div>
      <div id="chart-hourly-attendance" class="chart-body" aria-hidden="false"></div>
    </div>

    <!-- Hourly patrols -->
    <div class="card" data-card="hourly-patrols">
      <div class="card-top split">
        <div class="split-left">
          <div id="donut-hourly-patrol" class="daily-donut integrated" data-testid="donut-hourly-patrol" aria-hidden="true"></div>
        </div>
        <div class="split-right">
          <h5>Rondas de hoy</h5>
          <div class="card-totals" aria-live="polite">
            <div class="total-label">Total hoy</div>
            <div class="total-value" id="total-hourly-patrol">–</div>
            <div class="meta small muted" id="meta-hourly-patrol">Meta: —</div>
          </div>
        </div>
      </div>
      <div id="chart-hourly-patrol" class="chart-body" aria-hidden="false"></div>
    </div>

    <!-- Hourly visits -->
    <div class="card" data-card="hourly-visits">
      <div class="card-top split">
        <div class="split-left">
          <div id="donut-hourly-visit" class="daily-donut integrated" data-testid="donut-hourly-visit" aria-hidden="true"></div>
        </div>
        <div class="split-right">
          <h5>Visitas de hoy</h5>
          <div class="card-totals" aria-live="polite">
            <div class="total-label">Total hoy</div>
            <div class="total-value" id="total-hourly-visit">–</div>
            <div class="meta small muted" id="meta-hourly-visit">Meta: —</div>
          </div>
        </div>
      </div>
      <div id="chart-hourly-visit" class="chart-body" aria-hidden="false"></div>
    </div>

  </div>



  <!-- Daily charts (ahora con layout integrado igual que daily) -->
  <div class="charts daily" role="group" aria-label="Indicadores semanales">

    <!-- Daily Attendance -->
    <div class="card" data-card="daily-attendance">
      <div class="card-top split">
        <div class="split-left">
          <div id="donut-att" class="daily-donut integrated" data-testid="donut-att" aria-hidden="false"></div>
        </div>
        <div class="split-right">
          <h5>Asistencias última semana</h5>
          <div class="card-totals" aria-live="polite">
            <div class="total-label">Total semana</div>
            <div class="total-value" id="total-weekly-att">–</div>
            <div class="meta small muted" id="meta-weekly-att">Meta: —</div>
          </div>
        </div>
      </div>
      <div id="chart-daily-attendance" class="chart-body" aria-hidden="false"></div>
    </div>

    <!-- Daily Patrols -->
    <div class="card" data-card="daily-patrols">
      <div class="card-top split">
        <div class="split-left">
          <div id="donut-patrol" class="daily-donut integrated" data-testid="donut-patrol" aria-hidden="false"></div>
        </div>
        <div class="split-right">
          <h5>Rondas última semana</h5>
          <div class="card-totals" aria-live="polite">
            <div class="total-label">Total semana</div>
            <div class="total-value" id="total-daily-patrol">–</div>
            <div class="meta small muted" id="meta-daily-patrol">Meta: —</div>
          </div>
        </div>
      </div>
      <div id="chart-daily-patrol" class="chart-body" aria-hidden="false"></div>
    </div>

    <!-- Daily Visits -->
    <div class="card" data-card="daily-visits">
      <div class="card-top split">
        <div class="split-left">
          <div id="donut-visit" class="daily-donut integrated" data-testid="donut-visit" aria-hidden="false"></div>
        </div>
        <div class="split-right">
          <h5>Visitas última semana</h5>
          <div class="card-totals" aria-live="polite">
            <div class="total-label">Total semana</div>
            <div class="total-value" id="total-daily-visit">–</div>
            <div class="meta small muted" id="meta-daily-visit">Meta: —</div>
          </div>
        </div>
      </div>
      <div id="chart-daily-visit" class="chart-body" aria-hidden="false"></div>
    </div>
  </div>



  <!-- Visitas por sitio en su propia fila, ocupando todo el ancho -->
  <div class="charts full-width" role="group" aria-label="Visitas por sitio">
    <div class="card" data-card="visits-by-site">
      <h5>Visitas por sitio</h5>
      <div id="chart-visit-site" aria-hidden="false"></div>
    </div>
  </div>


  <!-- Script bundle -->
  <script type="module" src="/assets/private/client.js"></script>

</div>