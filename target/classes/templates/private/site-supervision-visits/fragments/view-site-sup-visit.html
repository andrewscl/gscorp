<section th:fragment="content" class="card supervisor-visit" style="max-width:520px;padding:1rem">
  <h3 style="margin-top:0">Detalle de Visita de Supervisor</h3>

  <!-- Datos principales de la visita -->
  <div class="visit-meta" style="margin-bottom: 1rem;">
    <div><strong>Fecha:</strong> <span th:text="${visit.date}">2025-10-30 14:25</span></div>
    <div><strong>Supervisor:</strong> <span th:text="${visit.supervisorName}">Juan Pérez</span></div>
    <div><strong>Sitio:</strong> <span th:text="${visit.siteName}">Planta Santiago</span></div>
    <div th:if="${site != null}">
      <strong>Dirección sitio:</strong> <span th:text="${site.address}">Av. Principal 123</span>
    </div>
  </div>

  <!-- Descripción -->
  <div class="form-group" style="margin-bottom:1rem;">
    <label style="font-weight:bold;">Descripción</label>
    <div style="white-space:pre-line; background:#f4f4f4; border-radius:4px; padding:0.75rem;">
      <span th:text="${visit.description}">Sin descripción</span>
    </div>
  </div>

  <!-- Multimedia -->
  <div class="form-group" th:if="${visit.photoUrl != null}" style="margin-bottom:1rem;">
    <label style="font-weight:bold;">Fotografía</label>
    <div style="margin-top:.5rem;">
      <img th:src="@{${visit.photoUrl}}" alt="Foto visita" style="max-width:100%;border-radius:4px;" />
    </div>
  </div>

  <div class="form-group" th:if="${visit.videoUrl != null}" style="margin-bottom:1rem;">
    <label style="font-weight:bold;">Video</label>
    <div style="margin-top:.5rem;">
      <video th:src="@{${visit.videoUrl}}" controls style="width:100%;border-radius:4px;"></video>
    </div>
  </div>

  <!-- Ubicación en mapa -->
  <div id="visit-map-container" style="width:100%;height:220px;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px -4px #cbd5e1;margin-bottom:1rem;background:#f3f4f6">
    <div id="visit-map"
         th:attr="data-lat=${visit.latitude}, data-lon=${visit.longitude}"
         style="width:100%;height:100%"></div>
  </div>
  <script type="module" th:src="@{/js/private/site-supervision-visits/view-site-sup-visit.js}" defer></script>

  <!-- Footer: botón volver/cerrar -->
  <div class="modal-footer" style="margin-top:1.5rem; display:flex; gap:.5rem; justify-content:flex-end;">
    <button type="button" class="btn-secondary" id="close-visit-btn">Cerrar</button>
  </div>
</section>