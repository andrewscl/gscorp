<section th:fragment="content" class="detail-section edit-bank">

  <h2 th:text="${bank.id != null} ? 'Editar Banco' : 'Nuevo Banco'"></h2>
  <p class="meta-id" th:if="${bank.id != null}">
    <strong>ID:</strong> <span th:text="${bank.id}"></span>
  </p>

  <form id="editBankForm" class="card form" data-path="/private/banks/update" th:object="${bank}" method="post" autocomplete="off">

    <input type="hidden" th:field="*{id}" />

    <div class="form-group">
      <label for="bankName">Nombre del banco <span style="color:#ef4444">*</span></label>
      <input id="bankName" name="name" type="text" th:field="*{name}" maxlength="255" required autofocus placeholder="Nombre del banco"/>
      <div class="form-error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
    </div>

    <div class="form-group">
      <label for="bankCode">Código</label>
      <input id="bankCode" name="code" type="number" th:field="*{code}" min="0" placeholder="Código del banco" />
      <div class="form-error" th:if="${#fields.hasErrors('code')}" th:errors="*{code}"></div>
    </div>

    <div class="form-group">
      <label for="bankLogoUrl">Logo (URL)</label>
      <input id="bankLogoUrl" name="logoUrl" type="url" th:field="*{logoUrl}" maxlength="512" placeholder="https://ejemplo.com/logo.png"/>
      <div th:if="${bank.logoUrl != null && !#strings.isEmpty(bank.logoUrl)}" style="margin-top:.4rem">
        <img th:src="${bank.logoUrl}" alt="Logo del banco" style="max-height:60px;max-width:200px;" />
      </div>
      <div class="form-error" th:if="${#fields.hasErrors('logoUrl')}" th:errors="*{logoUrl}"></div>
    </div>

    <div class="form-group active-row">
      <input id="bankActive" name="active" type="checkbox" th:field="*{active}" />
      <label for="bankActive" style="margin:0">Activo</label>
    </div>

    <div class="actions">
      <button type="submit" class="vs-btn">Guardar</button>
      <a class="vs-btn vs-secondary" href="#" data-path="/private/banks/table-view">Cancelar</a>
    </div>

    <div id="editBankError" class="form-error"></div>
    <div id="editBankOk" class="form-ok" style="display:none;">Cambios guardados ✅</div>
  </form>

</section>