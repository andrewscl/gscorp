<section th:fragment="content" class="detail-section edit-shift">

  <h2>Editar Turno</h2>
  <p class="meta-id"><strong>ID:</strong> <span th:text="${shift.id}"></span></p>

  <form id="editShiftForm" class="card form" data-path="/private/shifts/edit/{id}" th:attr="data-path=${shift.id}">

    <div class="form-group">
      <label for="shiftSite">Sitio</label>
      <select id="shiftSite" name="siteId" required>
        <option value="">Seleccione sitio</option>
        <option th:each="s : ${sites}"
                th:value="${s.id}"
                th:text="${s.name}"
                th:selected="${shift.site != null and s.id == shift.site.id}"></option>
      </select>
    </div>

    <div class="form-group">
      <label for="shiftStartTs">Fecha y Hora de Inicio</label>
      <input id="shiftStartTs" name="startTs" type="datetime-local"
             th:value="${#dates.format(shift.startTs, 'yyyy-MM-dd\'T\'HH:mm')}" required />
    </div>

    <div class="form-group">
      <label for="shiftEndTs">Fecha y Hora de Término</label>
      <input id="shiftEndTs" name="endTs" type="datetime-local"
             th:value="${#dates.format(shift.endTs, 'yyyy-MM-dd\'T\'HH:mm')}" required />
    </div>

    <div class="form-group">
      <label for="shiftPlannedGuards">Guardias Planificados</label>
      <input id="shiftPlannedGuards" name="plannedGuards" type="number"
             th:value="${shift.plannedGuards}" min="1" required />
    </div>

    <div class="actions">
      <button class="vs-btn vs-primary" type="submit">Guardar cambios</button>
      <a class="vs-btn vs-secondary" href="#" data-path="/private/shifts/table-view">Cancelar</a>
    </div>

    <div id="editShiftError" class="form-error"></div>
    <div id="editShiftOk" class="form-ok" style="display:none;">Cambios guardados ✅</div>
  </form>

</section>