function E(){console.log("setupSlideshow activado");const r=document.querySelectorAll(".slide"),y=document.querySelector(".nav.prev"),m=document.querySelector(".nav.next"),a=document.querySelectorAll(".dot");let o=0,i=null;function u(t=6e3){clearTimeout(i),i=setTimeout(h,t)}function d(t,c){const e=t.querySelector("video");if(e){if(c==="reset"){try{e.pause()}catch{}const n=()=>{try{e.currentTime=0}catch{}};e.readyState>=1?n():e.addEventListener("loadedmetadata",n,{once:!0});return}if(c==="start"){const n=()=>{try{e.pause()}catch{}try{e.currentTime=0}catch{}const s=e.play();s&&typeof s.catch=="function"&&s.catch(()=>u(6e3))},f=()=>{e.removeEventListener("playing",f);const s=g(e,6e3);u(s)};e.addEventListener("playing",f,{once:!0}),e.readyState>=2?n():e.addEventListener("canplay",n,{once:!0})}}}function p(t){t.querySelectorAll(".slide-texts h1, .slide-texts h2, .slide-texts h3").forEach(e=>{const n=e.cloneNode(!0);e.parentNode.replaceChild(n,e)})}function l(t){clearTimeout(i),r.forEach((e,n)=>{e.classList.toggle("active",n===t),a[n]?.classList.toggle("active",n===t),n!==t&&d(e,"reset")});const c=r[t];o=t,p(c),d(c,"start")}function h(){o=(o+1)%r.length,l(o)}function v(){o=(o-1+r.length)%r.length,l(o)}function S(t){l(t)}m?.addEventListener("click",()=>{h()}),y?.addEventListener("click",()=>{v()}),a.forEach((t,c)=>{t.addEventListener("click",()=>S(c))});function g(t,c=6e3){let e=Number.isFinite(t.duration)&&t.duration>0?t.duration*1e3:c;return e=e-60,Math.max(100,e)}l(o),window.setupSlideshow=E}export{E as s};
