import{n as s}from"../../navigation-handler.js";import"../../auth.js";window._pendingMapInit=null;window._viewSiteInitRegistered||(document.addEventListener("fragment:loaded",e=>{const{container:t,path:o}=e.detail||{};t&&d({container:t,path:o})}),window._viewSiteInitRegistered=!0);function d({container:e,path:t}){console.log("View-site.js activado");const o=e.querySelector(".vs-btn.vs-secondary[data-path]");o&&o.addEventListener("click",l=>{l.preventDefault();const p=o.getAttribute("data-path");p&&s(p)});const n=e.querySelector("#siteLat"),a=e.querySelector("#siteLon"),i=e.querySelector("#siteMap");window._pendingMapInit={latInput:n,lonInput:a,mapDiv:i},window.google&&window.google.maps&&window.onGoogleMapsReady()}window.onGoogleMapsReady=function(){const e=window._pendingMapInit;if(!e)return;const{latInput:t,lonInput:o,mapDiv:n}=e;if(n&&t&&o){if(n._google_map)return;const a=parseFloat(t.value)||-33.45,i=parseFloat(o.value)||-70.66,l=new google.maps.Map(n,{center:{lat:a,lng:i},zoom:15,mapTypeId:"roadmap",disableDefaultUI:!0});new google.maps.Marker({position:{lat:a,lng:i},map:l}),n._google_map=l,console.log("Google Map inicializado OK")}else console.log("Falta alg√∫n elemento para inicializar el mapa")};export{d as init};
