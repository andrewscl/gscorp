import{f as r}from"../../auth.js";import{n as a}from"../../navigation-handler.js";const o=t=>document.querySelector(t);async function c(t){const n=t.target.getAttribute("data-id");if(n&&confirm("¿Seguro que quieres eliminar esta nacionalidad? Esta acción no se puede deshacer."))try{const e=await r(`/api/nationalities/${n}`,{method:"DELETE"});if(!e.ok){let i="";try{i=await e.text()}catch{}throw i||(i=`Error ${e.status}`),new Error(i)}a("/private/nationalities/table-view")}catch(e){alert(e.message||"No se pudo eliminar la nacionalidad")}}function s(t){t.preventDefault(),a("/private/nationalities/table-view")}function l(){o("#deleteNationalityBtn")?.addEventListener("click",c),o('[data-path="/private/nationalities/table-view"]')?.addEventListener("click",s),document.addEventListener("keydown",t=>{t.key==="Escape"&&a("/private/nationalities/table-view")})}(function(){l()})();
