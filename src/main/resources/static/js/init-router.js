import{s as a,n as c}from"./router.js";import{s as d}from"./mega-menu.js";import{s as u}from"./slideshow-video.js";import{s as m}from"./chat/chat.js";import"./auth.js";function r(o){document.documentElement.classList.remove("no-scroll"),document.body.classList.remove("no-scroll"),requestAnimationFrame(()=>requestAnimationFrame(()=>{const t=new URL(o||location.href,location.origin).hash?.slice(1),s=()=>window.scrollTo({top:0,behavior:"auto"}),e=document.getElementById("content"),l=e&&getComputedStyle(e).overflowY!=="visible";if(t){const i=document.getElementById(decodeURIComponent(t));if(i){i.scrollIntoView({behavior:"smooth",block:"start"});return}}l&&e.scrollTo({top:0,behavior:"auto"}),s()}))}window.initRouter=()=>{window.__routeScrollBound||(document.addEventListener("route:loaded",n=>{const t=n.detail?.path||location.pathname+location.hash;r(t)}),window.addEventListener("popstate",()=>r(location.href)),window.__routeScrollBound=!0),console.log("Router reinicializado"),a();const o=sessionStorage.getItem("postLoginTarget");o?(sessionStorage.removeItem("postLoginTarget"),console.log("[init-router] Redirigiendo a:",o),c(o,!0)):console.log("[init-router] Reiniciando router",o),d(),u(),m()};window.initRouter();
