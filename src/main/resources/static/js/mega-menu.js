function o(){if(window.__megaMenuInit)return;window.__megaMenuInit=!0;const i=document.getElementById("navbar"),e=document.getElementById("menu-toggle"),t=document.getElementById("nav-links");if(!i)return;let r=!1;const d=()=>{const n=window.scrollY>60;n!==r&&(r=n,i.classList.toggle("solid",n),i.classList.toggle("transparent",!n))};if(window.addEventListener("scroll",d),d(),e&&t){e.setAttribute("aria-controls","nav-links"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Abrir menú");const n=()=>{t.classList.add("open"),e.classList.add("is-open"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Cerrar menú"),document.documentElement.classList.add("no-scroll")},s=()=>{t.classList.remove("open"),e.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Abrir menú"),document.documentElement.classList.remove("no-scroll")},c=()=>t.classList.contains("open")?s():n();e.addEventListener("click",c),t.addEventListener("click",a=>{const l=a.target.closest("[data-path], a[href]");l&&(l.hasAttribute("data-path")&&a.preventDefault(),s())}),document.addEventListener("click",a=>{t.classList.contains("open")&&(a.target.closest("#navbar")||s())}),document.addEventListener("keydown",a=>{a.key==="Escape"&&s()}),window.addEventListener("resize",()=>{window.innerWidth>768&&s()}),window.addEventListener("popstate",s)}window.setupMegamenu=o}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>o()):o();export{o as s};
