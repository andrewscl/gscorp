<tbody th:fragment="rows">
  <tr th:each="p : ${punchs}" th:attr="data-id=${p.id}">

    <td th:text="${#temporals.format(p.ts, 'yyyy-MM-dd HH:mm')}">2025-10-07 09:00</td>
    <td th:text="${p.siteName != null ? p.siteName : '—'}">Oficina Central</td>
    <td th:text="${p.employeeName != null ? p.employeeName + ' ' + p.employeeFatherSurname: '—'}">
      Juan Pérez
    </td>
    <td th:text="${p.action != null ? p.action : '—'}">IN</td>
    <td th:text="${p.distanceM != null ? p.distanceM : '—'}">12.3</td>
    <td th:text="${p.accuracyM != null ? p.accuracyM : '—'}">8.0</td>
    <td class="actions">
      <button type="button" class="btn-link action-btn" title="Ver"
              th:attr="data-path=@{/private/attendance/show/{id}(id=${p.id})}">
        <span aria-hidden="true">Ver</span>
        <span class="visually-hidden" th:text="${'Ver registro de asistencia ' + p.id}">Ver registro</span>
      </button>

      <button type="button" class="btn-link action-btn"
              th:if="${#authorization.expression('hasRole(''ADMINISTRATOR'')')}"
              th:attr="data-path=@{/private/attendance/edit/{id}(id=${p.id})}" title="Editar">
        Editar
      </button>
    </td>
  </tr>

  <tr th:if="${#lists.isEmpty(items)}">
    <td colspan="9" class="empty" style="text-align:center;color:#6b7280">
      No se encontraron registros para el rango seleccionado.
    </td>
  </tr>
</tbody>