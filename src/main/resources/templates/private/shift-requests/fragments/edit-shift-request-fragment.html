<section th:fragment="content" class="detail-section edit-shift-request">

  <h2>Editar Solicitud de Turno</h2>
  <p class="meta-id"><strong>ID:</strong> <span th:text="${shiftRequest.id}"></span></p>

  <form id="editShiftRequestForm" class="card form"
        th:action="@{/private/shift-requests/edit/{id}(id=${shiftRequest.id})}" th:method="post">

    <!-- Sitio solo lectura -->
    <div class="form-group">
      <label>Sitio</label>
      <span class="readonly-field"
        th:text="${shiftRequest.site != null ? shiftRequest.site.name : '—'}"></span>
      <small>La solicitud de turno está asociada a un único sitio.</small>
    </div>

    <hr class="form-separator" />

    <div class="form-group">
      <label for="shiftRequestCode">Código</label>
      <input id="shiftRequestCode" name="code" type="text"
             th:value="${shiftRequest.code}" required />
    </div>

    <div class="form-group">
      <label for="shiftRequestType">Tipo</label>
      <input id="shiftRequestType" name="type" type="text"
             th:value="${shiftRequest.type}" required />
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="shiftRequestStartDate">Fecha inicio</label>
        <input id="shiftRequestStartDate" name="startDate" type="date"
               th:value="${shiftRequest.startDate}" required />
      </div>
      <div class="form-group">
        <label for="shiftRequestEndDate">Fecha término</label>
        <input id="shiftRequestEndDate" name="endDate" type="date"
               th:value="${shiftRequest.endDate}" />
      </div>
    </div>

    <div class="form-group">
      <label for="shiftRequestWeekDays">Días de la semana</label>
      <input id="shiftRequestWeekDays" name="weekDays" type="text"
             th:value="${shiftRequest.weekDays}" />
    </div>

    <div class="form-group">
      <label for="shiftRequestShiftDateTime">Fecha y Hora del Turno (SPORADIC)</label>
      <input id="shiftRequestShiftDateTime" name="shiftDateTime" type="datetime-local"
             th:value="${shiftRequest.shiftDateTime}" />
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="shiftRequestStartTime">Hora inicio</label>
        <input id="shiftRequestStartTime" name="startTime" type="time"
               th:value="${shiftRequest.startTime}" />
      </div>
      <div class="form-group">
        <label for="shiftRequestEndTime">Hora término</label>
        <input id="shiftRequestEndTime" name="endTime" type="time"
               th:value="${shiftRequest.endTime}" />
      </div>
      <div class="form-group">
        <label for="shiftRequestLunchTime">Hora de colación</label>
        <input id="shiftRequestLunchTime" name="lunchTime" type="time"
               th:value="${shiftRequest.lunchTime}" />
      </div>
    </div>

    <div class="form-group">
      <label for="shiftRequestStatus">Estado</label>
      <input id="shiftRequestStatus" name="status" type="text"
             th:value="${shiftRequest.status}" required />
    </div>

    <div class="form-group">
      <label for="shiftRequestDescription">Descripción</label>
      <textarea id="shiftRequestDescription" name="description"
                th:text="${shiftRequest.description}" placeholder="Descripción"></textarea>
    </div>

    <div class="form-group">
      <label for="shiftRequestCreatedAt">Creado el</label>
      <input id="shiftRequestCreatedAt" name="createdAt" type="datetime-local"
             th:value="${shiftRequest.createdAt}" readonly tabindex="-1" />
    </div>

    <div class="actions">
      <button class="vs-btn vs-primary" type="submit">Guardar cambios</button>
      <a class="vs-btn vs-secondary" href="#" data-path="/private/shift-requests/table-view">Cancelar</a>
    </div>

    <div id="editShiftRequestError" class="form-error"></div>
    <div id="editShiftRequestOk" class="form-ok" style="display:none;">Cambios guardados ✅</div>
  </form>
  <script type="module" src="/js/private/shift-requests/edit-shift-request.js"></script>
</section>