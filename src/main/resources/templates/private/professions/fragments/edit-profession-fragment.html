<section th:fragment="content" class="detail-section edit-profession">

  <h2 th:text="${profession.id != null} ? 'Editar Profesión' : 'Nueva Profesión'"></h2>
  <p class="meta-id" th:if="${profession.id != null}">
    <strong>ID:</strong> <span th:text="${profession.id}"></span>
  </p>

  <form id="editProfessionForm" class="card form" data-path="/private/professions/update" th:object="${profession}" method="post" autocomplete="off">

    <input type="hidden" th:field="*{id}" />

    <div class="form-group">
      <label for="professionName">Nombre de la profesión <span style="color:#ef4444">*</span></label>
      <input id="professionName" name="name" type="text" th:field="*{name}" maxlength="255" required autofocus placeholder="Nombre de la profesión"/>
      <div class="form-error" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
    </div>

    <div class="form-group">
      <label for="professionCode">Código</label>
      <input id="professionCode" name="code" type="text" th:field="*{code}" maxlength="50" placeholder="Código interno único"/>
      <div class="form-error" th:if="${#fields.hasErrors('code')}" th:errors="*{code}"></div>
    </div>

    <div class="form-group">
      <label for="professionDescription">Descripción</label>
      <input id="professionDescription" name="description" type="text" th:field="*{description}" maxlength="300" placeholder="Descripción de la profesión"/>
      <div class="form-error" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
    </div>

    <div class="form-group">
      <label for="professionCategory">Categoría</label>
      <input id="professionCategory" name="category" type="text" th:field="*{category}" maxlength="100" placeholder="Categoría o agrupación"/>
      <div class="form-error" th:if="${#fields.hasErrors('category')}" th:errors="*{category}"></div>
    </div>

    <div class="form-group">
      <label for="professionLevel">Nivel</label>
      <input id="professionLevel" name="level" type="number" th:field="*{level}" min="0" placeholder="Nivel de la profesión"/>
      <div class="form-error" th:if="${#fields.hasErrors('level')}" th:errors="*{level}"></div>
    </div>

    <div class="form-group active-row">
      <input id="professionActive" name="active" type="checkbox" th:field="*{active}" />
      <label for="professionActive" style="margin:0">Activo</label>
    </div>

    <div class="actions">
      <button type="submit" class="vs-btn">Guardar</button>
      <a class="vs-btn vs-secondary" href="#" data-path="/private/professions/table-view">Cancelar</a>
    </div>

    <div id="editProfessionError" class="form-error"></div>
    <div id="editProfessionOk" class="form-ok" style="display:none;">Cambios guardados ✅</div>
  </form>

    <script type="module" src="/js/private/professions/edit-profession.js"></script>

</section>